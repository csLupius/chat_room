var EventHandler = require('../helpers/EventHandler');
console.log(EventHandler);
var UserList = (function () {
    var _users =[];
    var _onUsersChanged = Object.create(EventHandler);
    function _addUser(UserModel){
        _users.push(UserModel);
        _onUsersChanged.trigger(_users);
    }
    function _removeUser(UserModel) {
        _users = _users.map(x => x !== UserModel);
        _onUsersChanged.trigger(_users);
    }
    return {
        get Users(){
            return _users;
        },
        set onUsersChanged(callback){
            _onUsersChanged.push(callback);
        },
        addUser : _addUser,
        removeUser : _removeUser
    }
})();

module.exports = UserList;